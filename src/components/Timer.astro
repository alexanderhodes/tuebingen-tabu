---

---

<div class="timer-container">
  <div class="timer-display">
    <span id="time-remaining">01:30</span>
  </div>
  <div class="timer-controls">
    <button id="start-timer" class="timer-btn">‚ñ∂Ô∏è Start</button>
    <button id="pause-timer" class="timer-btn">‚è∏Ô∏è Pause</button>
    <button id="reset-timer" class="timer-btn">üîÑ Reset</button>
  </div>
</div>

<style>
  .timer-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1rem;
  }

  .timer-display {
    background: #343a40;
    color: white;
    padding: 1rem 2rem;
    border-radius: 8px;
    font-size: 1.8rem;
    font-weight: 600;
    font-family: "Courier New", monospace;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    min-width: 120px;
    text-align: center;
    border: 2px solid #6c757d;
  }

  .timer-controls {
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
  }

  .timer-btn {
    background: #f8f9fa;
    border: 1px solid #dee2e6;
    border-radius: 6px;
    padding: 6px 12px;
    cursor: pointer;
    transition: all 0.2s ease;
    font-size: 0.85rem;
    color: #495057;
  }

  .timer-btn:hover {
    background: #e9ecef;
    border-color: #adb5bd;
  }

  .timer-btn:active {
    transform: translateY(0);
  }

  @media (max-width: 768px) {
    .timer-display {
      font-size: 1.5rem;
      padding: 0.8rem 1.5rem;
    }

    .timer-controls {
      justify-content: center;
    }
  }
</style>

<script>
  let timeRemaining = 90; // 1:30 in seconds
  let timerInterval: number | null = null;
  let isRunning = false;

  function updateDisplay() {
    const minutes = Math.floor(timeRemaining / 60);
    const seconds = timeRemaining % 60;
    const display = `${minutes.toString().padStart(2, "0")}:${seconds.toString().padStart(2, "0")}`;

    const timeElement = document.getElementById("time-remaining");
    if (timeElement) {
      timeElement.textContent = display;

      // Change color when time is running low
      if (timeRemaining <= 10) {
        timeElement.style.color = "#e74c3c";
        timeElement.style.animation = "pulse 1s infinite";
      } else if (timeRemaining <= 30) {
        timeElement.style.color = "#f39c12";
        timeElement.style.animation = "none";
      } else {
        timeElement.style.color = "white";
        timeElement.style.animation = "none";
      }
    }
  }

  function startTimer() {
    if (isRunning) return;

    isRunning = true;
    timerInterval = window.setInterval(() => {
      timeRemaining--;
      updateDisplay();

      if (timeRemaining <= 0) {
        stopTimer();
        alert("Zeit ist abgelaufen! ‚è∞");
        resetTimer();
      }
    }, 1000);
  }

  function pauseTimer() {
    if (!isRunning) return;

    if (timerInterval) {
      clearInterval(timerInterval);
      timerInterval = null;
    }
    isRunning = false;
  }

  function stopTimer() {
    if (timerInterval) {
      clearInterval(timerInterval);
      timerInterval = null;
    }
    isRunning = false;
  }

  function resetTimer() {
    stopTimer();
    timeRemaining = 90;
    updateDisplay();
  }

  // Listen to timer events
  document.addEventListener("timer:start", () => {
    startTimer();
  });

  document.addEventListener("timer:pause", () => {
    pauseTimer();
  });

  document.addEventListener("timer:reset", () => {
    resetTimer();
  });

  document.addEventListener("DOMContentLoaded", () => {
    updateDisplay();

    document
      .getElementById("start-timer")
      ?.addEventListener("click", startTimer);
    document
      .getElementById("pause-timer")
      ?.addEventListener("click", pauseTimer);
    document
      .getElementById("reset-timer")
      ?.addEventListener("click", resetTimer);

    // Add pulse animation
    const style = document.createElement("style");
    style.textContent = `
      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
    `;
    document.head.appendChild(style);
  });
</script>
